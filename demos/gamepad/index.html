<!DOCTYPE html>
<html lang="en">
<head>
	<meta charset="UTF-8">
	<title>Gamepad Demo</title>
	<style>
		body { background-color: black; color: white; font-family: sans-serif; display: flex; flex-direction: column; align-items: center; margin-top: 40px; }
		.gamepad { display: grid; grid-template-columns: repeat(3, 60px); grid-gap: 16px; margin-top: 32px; }
		.buttons { display: grid; grid-template-columns: repeat(2, 60px); grid-gap: 16px; margin-top: 32px; }
		button { font-size: 1.2em; padding: 16px; border-radius: 8px; border: 1px solid #888; background: #eee; cursor: pointer; }
		button:active { background: #ccc; }
	</style>
</head>
<body>
	<h1>Gamepad Controller</h1>
	<button id="joinBtn">Join Game</button>
	<div id="gamepad" style="display: none;">
	<div style="display: flex; flex-direction: row; gap: 80px; margin-top: 32px;">
		<div class="gamepad" style="grid-template-columns: 60px 60px 60px;">
			<div></div>
			<button id="up">&#8593;</button>
			<div></div>
			<button id="left">&#8592;</button>
			<div></div>
			<button id="right">&#8594;</button>
			<div></div>
			<button id="down">&#8595;</button>
			<div></div>
		</div>
		<div class="buttons" style="grid-template-columns: 60px 60px;">
			<button id="x">X</button>
			<button id="y">Y</button>
			<button id="a">A</button>
			<button id="b">B</button>
		</div>
	</div>
	</div>
		<script src="../../dist/index.global.js"></script>
		<script>
		const player = new TouchCoop.Player();
		window.player = player;

		document.getElementById("joinBtn").onclick = async () => {
			document.getElementById("joinBtn").style.display = "none";
			document.getElementById("gamepad").style.display = "block";
			await player.joinMatch();
			function sendButtonEvent(btn) {
				player.sendMove(btn);
			}

			document.getElementById("up").onclick = () => sendButtonEvent("up");
			document.getElementById("down").onclick = () => sendButtonEvent("down");
			document.getElementById("left").onclick = () => sendButtonEvent("left");
			document.getElementById("right").onclick = () => sendButtonEvent("right");
			document.getElementById("a").onclick = () => sendButtonEvent("A");
			document.getElementById("b").onclick = () => sendButtonEvent("B");
			document.getElementById("x").onclick = () => sendButtonEvent("X");
			document.getElementById("y").onclick = () => sendButtonEvent("Y");
		};
		</script>
</body>
</html>
